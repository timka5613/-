import asyncio
import logging
import random
import os
from datetime import datetime
from aiogram import Bot, Dispatcher, types, F
from aiogram.filters import Command
from aiogram.types import FSInputFile, InlineKeyboardMarkup, InlineKeyboardButton
from aiogram.utils.keyboard import InlineKeyboardBuilder

# –í–∫–ª—é—á–∞–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logging.basicConfig(level=logging.INFO)

# ========== –ü–ï–†–°–û–ù–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï ==========
BOT_TOKEN = "8417837306:AAHnmlY_pjh4e-XkSy64R6NzjtSkQ-csidE"  # –í—Å—Ç–∞–≤—å —Ç–æ–∫–µ–Ω –æ—Ç @BotFather

# –î–∞–Ω–Ω—ã–µ –ø–∞–ø—ã
PAPA_NAME = "–ú–∞–∫—Å–∏–º –í–∏–∫—Ç–æ—Ä–æ–≤–∏—á"
PAPA_RANK = "–µ—Ñ—Ä–µ–π—Ç–æ—Ä"
PAPA_POSITION = "–≤—Ä–∏–æ –∫–æ–º–∞–Ω–¥–∏—Ä–∞ –†–≠–ë"
PAPA_TELEGRAM = "@Qwsaddee"  # –¢–µ–≥ –ø–∞–ø—ã –≤ Telegram

# –î–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞—Ç–µ–ª—è
CREATOR_NAME = "–¢–∏–º–æ—Ñ–µ–π"
CREATOR_TAG = "@timka5613"
# ==========================================

# –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç—ã –±–æ—Ç–∞
bot = Bot(token=BOT_TOKEN)
dp = Dispatcher()

# –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫
IMAGES_FOLDER = "images"
if not os.path.exists(IMAGES_FOLDER):
    os.makedirs(IMAGES_FOLDER)
    print(f"‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ '{IMAGES_FOLDER}'. –ü–æ–ª–æ–∂–∏ —Ç—É–¥–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –¥–ª—è –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π!")

# –ë–∞–∑–∞ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ)
OFFICIAL_CONGRATS = [
    f"üéñÔ∏è –¢–æ–≤–∞—Ä–∏—â {PAPA_RANK} {PAPA_NAME}!\n\n"
    f"–û—Ç –ª–∏—Ü–∞ –≤—Å–µ–≥–æ –ª–∏—á–Ω–æ–≥–æ —Å–æ—Å—Ç–∞–≤–∞ (–∏ –æ—Å–æ–±–µ–Ω–Ω–æ –æ—Ç —Ç–≤–æ–µ–≥–æ —Å—ã–Ω–∞ {CREATOR_NAME}) "
    f"–ø–æ–∑–¥—Ä–∞–≤–ª—è—é —Å –î–Ω—ë–º –∑–∞—â–∏—Ç–Ω–∏–∫–∞ –û—Ç–µ—á–µ—Å—Ç–≤–∞!\n\n"
    f"–ö–∞–∫ {PAPA_POSITION} –∂–µ–ª–∞—é —Ç–µ–±–µ:\n"
    f"‚Ä¢ –ß—ë—Ç–∫–æ–π —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º –†–≠–ë\n"
    f"‚Ä¢ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø–æ–º–µ—Ö –≤ —ç—Ñ–∏—Ä–µ\n"
    f"‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –±–æ–µ–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏\n"
    f"‚Ä¢ –ò —á—Ç–æ–± –≤—Ä–∞–∂–µ—Å–∫–∞—è —Å–≤—è–∑—å –≤—Å–µ–≥–¥–∞ –≥–ª—É—à–∏–ª–∞—Å—å!\n\n"
    f"–° –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º, –ø–∞–ø! –£—Ä–∞! üéâ",

    f"üéØ –° 23 –§–µ–≤—Ä–∞–ª—è, {PAPA_NAME}!\n\n"
    f"–¢—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ {PAPA_RANK}, —Ç—ã ‚Äî {PAPA_POSITION}!\n"
    f"–ü—É—Å—Ç—å —Ç–≤–æ—è —Å–ª—É–∂–±–∞ –±—É–¥–µ—Ç –∫–∞–∫ –∏–¥–µ–∞–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª:\n"
    f"‚Ä¢ –ë–µ–∑ –ø–æ—Ç–µ—Ä—å\n"
    f"‚Ä¢ –° –≤—ã—Å–æ–∫–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º\n"
    f"‚Ä¢ –ò –ø–æ–ª–Ω—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º!\n\n"
    f"–¢–≤–æ–π —Å—ã–Ω {CREATOR_NAME} –∂–µ–ª–∞–µ—Ç —Ç–µ–±–µ –∑–¥–æ—Ä–æ–≤—å—è, —É–¥–∞—á–∏ –∏ –º–∏—Ä–Ω–æ–≥–æ –Ω–µ–±–∞! ‚ú®",

    f"üì° {PAPA_RANK} {PAPA_NAME} ({PAPA_TELEGRAM}), —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º!\n\n"
    f"–ñ–µ–ª–∞—é, —á—Ç–æ–±:\n"
    f"‚úì –í—Ä–∞–≥ –Ω–µ –º–æ–≥ –ø—Ä–æ–±–∏—Ç—å —Ç–≤–æ—é –∑–∞—â–∏—Ç—É\n"
    f"‚úì –°–≤—è–∑—å –±—ã–ª–∞ —É—Å—Ç–æ–π—á–∏–≤–æ–π\n"
    f"‚úì –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ ‚Äî –±–æ–µ–≤—ã–º\n"
    f"‚úì –ê –¥–æ–º–∞ –∂–¥–∞–ª–∏ —Å –ø–æ–±–µ–¥–æ–π!\n\n"
    f"–° –î–Ω—ë–º –∑–∞—â–∏—Ç–Ω–∏–∫–∞ –û—Ç–µ—á–µ—Å—Ç–≤–∞ –æ—Ç {CREATOR_NAME}! üí™",

    f"‚ö°Ô∏è –ü—Ä–∏–∫–∞–∑ –ø–æ —á–∞—Å—Ç–∏ –†–≠–ë:\n\n"
    f"{PAPA_RANK}—É {PAPA_NAME}—É:\n"
    f"1. –ü—Ä–∏–Ω—è—Ç—å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è —Å 23 –§–µ–≤—Ä–∞–ª—è\n"
    f"2. –û—Ç–±–æ–π —Ç—Ä–µ–≤–æ–≥–∏ ‚Äî —Å–µ–≥–æ–¥–Ω—è —Ç–æ–ª—å–∫–æ –ø—Ä–∞–∑–¥–Ω–∏–∫\n"
    f"3. –í–µ—Å—å –¥–µ–Ω—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–æ–¥–∞—Ä–∫–∏ –∏ —Ç—ë–ø–ª—ã–µ —Å–ª–æ–≤–∞\n"
    f"4. –ì–æ—Ä–¥–∏—Ç—å—Å—è —Å—ã–Ω–æ–º {CREATOR_NAME}, –∫–æ—Ç–æ—Ä—ã–π —Å–¥–µ–ª–∞–ª —ç—Ç–æ–≥–æ –±–æ—Ç–∞!\n\n"
    f"–ü—Ä–∏–∫–∞–∑ –ø–æ–¥–ø–∏—Å–∞–Ω –∏ –æ–±–∂–∞–ª–æ–≤–∞–Ω–∏—é –Ω–µ –ø–æ–¥–ª–µ–∂–∏—Ç! ‚úÖ"
]

# –° —é–º–æ—Ä–æ–º
FUNNY_CONGRATS = [
    f"üòÑ –¢–æ–≤–∞—Ä–∏—â {PAPA_RANK}!\n\n"
    f"–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Å 23 –§–µ–≤—Ä–∞–ª—è –æ—Ç {CREATOR_NAME}!\n"
    f"–ñ–µ–ª–∞—é, —á—Ç–æ–±—ã:\n"
    f"‚Ä¢ –ü–æ–º–µ—Ö–∏ –±—ã–ª–∏ —Ç–æ–ª—å–∫–æ –≤ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–µ\n"
    f"‚Ä¢ –í—Ä–∞–∂–µ—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã –≥–ª—É—à–∏–ª–∏—Å—å —Å–∞–º–∏\n"
    f"‚Ä¢ –ê —Ç–≤–æ–π –ø–æ–∑—ã–≤–Ω–æ–π –≤—Å–µ–≥–¥–∞ –±—ã–ª –≤ —ç—Ñ–∏—Ä–µ!\n\n"
    f"P.S. {PAPA_TELEGRAM}, —Ç—ã –ª—É—á—à–∏–π! üìª",

    f"üéÆ {PAPA_NAME}, —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º!\n\n"
    f"–¢—ã –∫–∞–∫ –†–≠–ë –≤ –∞—Ä–º–∏–∏:\n"
    f"‚Ä¢ –í–∏–¥–∏—à—å –≤—Å–µ—Ö\n"
    f"‚Ä¢ –°–ª—ã—à–∏—à—å –≤—Å–µ—Ö\n"
    f"‚Ä¢ –ò –º–æ–∂–µ—à—å –æ—Ç–∫–ª—é—á–∏—Ç—å –∫–æ–≥–æ —É–≥–æ–¥–Ω–æ! üòÇ\n\n"
    f"–®—É—á—É, –∫–æ–Ω–µ—á–Ω–æ. –ñ–µ–ª–∞—é –Ω–∞—Å—Ç–æ—è—â–∏—Ö –º—É–∂—Å–∫–∏—Ö —Ä–∞–¥–æ—Å—Ç–µ–π,\n"
    f"–∫—Ä–µ–ø–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è –∏ —á—Ç–æ–± —É–≤–æ–ª—å–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±—ã–ª–∏ —á–∞—â–µ!\n"
    f"‚Äî –¢–≤–æ–π —Å—ã–Ω {CREATOR_NAME} üçñ",

    f"üìª –≠—Ñ–∏—Ä –≥–æ–≤–æ—Ä–∏—Ç: {PAPA_RANK} {PAPA_NAME} ‚Äî –∫—Ä–∞—Å–∞–≤—á–∏–∫!\n\n"
    f"–° 23 –§–µ–≤—Ä–∞–ª—è, –∫–æ–º–∞–Ω–¥–∏—Ä!\n"
    f"–ü—É—Å—Ç—å –≤ —Ç–≤–æ–µ–π –∂–∏–∑–Ω–∏ –±—É–¥–µ—Ç:\n"
    f"‚Ä¢ –¢–æ–ª—å–∫–æ 5G —Å–∫–æ—Ä–æ—Å—Ç—å —É–¥–∞—á–∏\n"
    f"‚Ä¢ –ù–∏–∫–∞–∫–∏—Ö –ø–æ–º–µ—Ö –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö\n"
    f"‚Ä¢ –ò –ø–æ–ª–Ω—ã–π –ø—Ä–∏—ë–º –ø–æ–∑–∏—Ç–∏–≤–∞!\n\n"
    f"–° –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º –æ—Ç {CREATOR_TAG}! üéõÔ∏è",

    f"üõ°Ô∏è –î–æ–∫–ª–∞–¥–Ω–∞—è –æ—Ç {CREATOR_NAME}:\n\n"
    f"–î–æ–∫–ª–∞–¥—ã–≤–∞—é, —Ç–æ–≤–∞—Ä–∏—â {PAPA_RANK}:\n"
    f"‚Ä¢ –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫ –æ–±–µ–∑–≤—Ä–µ–∂–µ–Ω (–ø–æ–¥–∞—Ä–∫–∞–º–∏)\n"
    f"‚Ä¢ –°–≤—è–∑—å –Ω–∞–ª–∞–∂–µ–Ω–∞ (–ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã)\n"
    f"‚Ä¢ –õ–∏—á–Ω—ã–π —Å–æ—Å—Ç–∞–≤ (—Å–µ–º—å—è) –≥–æ—Ç–æ–≤ –∫ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—é!\n\n"
    f"–†–∞–∑—Ä–µ—à–∏—Ç–µ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ç–æ—Ä–∂–µ—Å—Ç–≤—É? üéâ"
]

# –û—Ç —Å–µ–º—å–∏
FAMILY_CONGRATS = [
    f"‚ù§Ô∏è –†–æ–¥–Ω–æ–π –Ω–∞—à {PAPA_NAME}!\n\n"
    f"–¢—ã –¥–ª—è –Ω–∞—Å –Ω–µ –ø—Ä–æ—Å—Ç–æ {PAPA_RANK} –∏ {PAPA_POSITION},\n"
    f"—Ç—ã ‚Äî –Ω–∞—à –≥–ª–∞–≤–Ω—ã–π –∑–∞—â–∏—Ç–Ω–∏–∫, –æ–ø–æ—Ä–∞ –∏ –ø—Ä–∏–º–µ—Ä!\n"
    f"–°–ø–∞—Å–∏–±–æ, —á—Ç–æ —Ç—ã –µ—Å—Ç—å. –° 23 –§–µ–≤—Ä–∞–ª—è!\n\n"
    f"–¢–≤–æ—è —Å–µ–º—å—è (–∏ {CREATOR_NAME} –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏) üë®‚Äçüë©‚Äçüëß‚Äçüë¶",

    f"üè† {PAPA_NAME}, —Å –î–Ω—ë–º –∑–∞—â–∏—Ç–Ω–∏–∫–∞!\n\n"
    f"–î–æ–º–∞ —Ç—ã —Ç–æ–∂–µ –∫–æ–º–∞–Ω–¥–∏—Ä, —Ç–æ–ª—å–∫–æ –¥–æ–±—Ä—ã–π –∏ –ª—é–±–∏–º—ã–π.\n"
    f"–ñ–µ–ª–∞–µ–º, —á—Ç–æ–±—ã —Å–ª—É–∂–±–∞ –±—ã–ª–∞ –ª—ë–≥–∫–æ–π,\n"
    f"–∞ –¥–æ–º–∞ –≤—Å–µ–≥–¥–∞ –∂–¥–∞–ª–∏ —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º!\n\n"
    f"–¶–µ–ª—É–µ–º, –æ–±–Ω–∏–º–∞–µ–º! ‚ù§Ô∏è\n"
    f"–¢–≤–æ–π —Å—ã–Ω {CREATOR_TAG}",

    f"üéÅ –õ—é–±–∏–º–æ–º—É –ø–∞–ø–µ –∏ –º—É–∂—É!\n\n"
    f"–ü—É—Å—Ç—å –≤—Ä–∞–∂–µ—Å–∫–∏–µ –†–≠–ë—ã –æ—Ç–¥—ã—Ö–∞—é—Ç,\n"
    f"–∞ —Ç—ã –æ—Ç–¥—ã—Ö–∞–µ—à—å —Å –Ω–∞–º–∏!\n"
    f"–° –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º, –Ω–∞—à –∑–∞—â–∏—Ç–Ω–∏–∫!\n\n"
    f"–¢–≤–æ–π –Ω–∞–¥—ë–∂–Ω—ã–π —Ç—ã–ª –≤–æ –≥–ª–∞–≤–µ —Å {CREATOR_NAME} ‚ù§Ô∏è",

    f"üë®‚Äçüë¶ –°—ã–Ω {CREATOR_NAME} –ø–µ—Ä–µ–¥–∞—ë—Ç:\n\n"
    f"–ü–∞–ø, —Å 23 –§–µ–≤—Ä–∞–ª—è! –¢—ã –º–æ–π –≥–µ—Ä–æ–π.\n"
    f"–ì–æ—Ä–∂—É—Å—å, —á—Ç–æ —Ç—ã {PAPA_RANK} –∏ –∫–æ–º–∞–Ω–¥–∏—Ä –†–≠–ë.\n"
    f"–¢—ã –ª—É—á—à–∏–π! ü•≥"
]

# –ê—Ä–º–µ–π—Å–∫–∏–µ —Ç–æ—Å—Ç—ã
TOASTS = [
    f"–ó–∞ {PAPA_RANK}–∞ {PAPA_NAME}–∞! ü•Ç",
    f"–ó–∞ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤ –†–≠–ë! ü•Ç",
    f"–ó–∞ –Ω–µ–≤–∏–¥–∏–º—ã–π —Ñ—Ä–æ–Ω—Ç! ü•Ç",
    f"–ß—Ç–æ–± —Å–≤—è–∑—å –±—ã–ª–∞! ü•Ç",
    f"–ó–∞ —Ç–µ—Ö, –∫—Ç–æ –≤ —ç—Ñ–∏—Ä–µ! ü•Ç",
    f"–ó–∞ —Å–æ–∑–¥–∞—Ç–µ–ª—è –±–æ—Ç–∞ {CREATOR_NAME}! ü•Ç",
    f"–ó–∞ @Qwsaddee ‚Äî –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –∑–∞—â–∏—Ç–Ω–∏–∫–∞! ü•Ç"
]

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–∫–∏
async def get_image():
    """–ò—â–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –ø–∞–ø–∫–µ images"""
    try:
        if os.path.exists(IMAGES_FOLDER):
            images = [f for f in os.listdir(IMAGES_FOLDER) 
                     if f.lower().endswith(('.png', '.jpg', '.jpeg', '.gif', '.webp'))]
            if images:
                return FSInputFile(os.path.join(IMAGES_FOLDER, random.choice(images)))
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ —Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π: {e}")
    return None

# –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏
def get_main_keyboard():
    builder = InlineKeyboardBuilder()
    builder.row(
        InlineKeyboardButton(text="üéñÔ∏è –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ", callback_data="official"),
        InlineKeyboardButton(text="üòÑ –° —é–º–æ—Ä–æ–º", callback_data="funny"),
        width=2
    )
    builder.row(
        InlineKeyboardButton(text="‚ù§Ô∏è –û—Ç —Å–µ–º—å–∏", callback_data="family"),
        InlineKeyboardButton(text="ü•Ç –¢–æ—Å—Ç—ã", callback_data="toast"),
        width=2
    )
    builder.row(
        InlineKeyboardButton(text="üì∏ –°–ª—É—á–∞–π–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞", callback_data="random_image"),
        InlineKeyboardButton(text="‚ÑπÔ∏è –û –±–æ—Ç–µ", callback_data="about"),
        width=2
    )
    return builder.as_markup()

# –ö–æ–º–∞–Ω–¥–∞ /start
@dp.message(Command("start"))
async def cmd_start(message: types.Message):
    welcome_text = (
        f"üéñÔ∏è –ü—Ä–∏–≤–µ—Ç, {PAPA_NAME} (@Qwsaddee)!\n\n"
        f"–° –Ω–∞—Å—Ç—É–ø–∞—é—â–∏–º 23 –§–µ–≤—Ä–∞–ª—è!\n"
        f"–≠—Ç–æ—Ç –±–æ—Ç —Å–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è —Ç–≤–æ–∏–º —Å—ã–Ω–æ–º {CREATOR_NAME} ({CREATOR_TAG}).\n\n"
        f"–í—ã–±–∏—Ä–∞–π —Ç–∏–ø –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∏–∂–µ üëá\n"
        f"–ö–∞–∂–¥—ã–π —Ä–∞–∑ –±—É–¥—É—Ç –Ω–æ–≤—ã–µ —Ç–µ–∫—Å—Ç—ã –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏!"
    )
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
    await message.answer(welcome_text, reply_markup=get_main_keyboard())
    
    # –ü—Ä–æ–±—É–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É, –µ—Å–ª–∏ –µ—Å—Ç—å
    img = await get_image()
    if img:
        await message.answer_photo(photo=img, caption="ü•≥ –î–µ—Ä–∂–∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—É—é –æ—Ç–∫—Ä—ã—Ç–∫—É!")

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏
@dp.callback_query()
async def handle_callback(callback: types.CallbackQuery):
    action = callback.data
    await callback.answer()  # –£–±–∏—Ä–∞–µ–º "—á–∞—Å–∏–∫–∏" –Ω–∞ –∫–Ω–æ–ø–∫–µ
    
    if action == "official":
        text = random.choice(OFFICIAL_CONGRATS)
        img = await get_image()
        if img:
            await callback.message.answer_photo(photo=img, caption=text)
        else:
            await callback.message.answer(text)
            
    elif action == "funny":
        text = random.choice(FUNNY_CONGRATS)
        img = await get_image()
        if img:
            await callback.message.answer_photo(photo=img, caption=text)
        else:
            await callback.message.answer(text)
            
    elif action == "family":
        text = random.choice(FAMILY_CONGRATS)
        # –î–ª—è —Å–µ–º–µ–π–Ω—ã—Ö –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å –æ—Å–æ–±—ã–º –∞–∫—Ü–µ–Ω—Ç–æ–º
        await callback.message.answer(f"‚ù§Ô∏è {text}")
        
    elif action == "toast":
        toast = random.choice(TOASTS)
        await callback.message.answer(f"ü•Ç –ü–æ–¥–Ω–∏–º–∞–µ–º –±–æ–∫–∞–ª—ã!\n\n{toast}")
        
    elif action == "random_image":
        img = await get_image()
        if img:
            await callback.message.answer_photo(
                photo=img, 
                caption=f"üì∏ –î–ª—è {PAPA_NAME} –æ—Ç {CREATOR_NAME}!"
            )
        else:
            await callback.message.answer(
                "üòÖ –ö–∞—Ä—Ç–∏–Ω–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç. –ù–æ {CREATOR_NAME} —Å–∫–æ—Ä–æ –∏—Ö –¥–æ–±–∞–≤–∏—Ç!"
            )
    
    elif action == "about":
        about_text = (
            f"‚ÑπÔ∏è –û –±–æ—Ç–µ:\n\n"
            f"üë§ –î–ª—è –∫–æ–≥–æ: {PAPA_NAME} ({PAPA_RANK}, {PAPA_POSITION})\n"
            f"üì± –¢–µ–≥: {PAPA_TELEGRAM}\n"
            f"üéÅ –ü–æ–≤–æ–¥: 23 –§–µ–≤—Ä–∞–ª—è\n"
            f"üë®‚Äçüíª –°–æ–∑–¥–∞—Ç–µ–ª—å: {CREATOR_NAME} {CREATOR_TAG}\n"
            f"üìÖ –ì–æ–¥: 2024\n\n"
            f"–°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –ø–∞–ø—ã! ‚ù§Ô∏è"
        )
        await callback.message.answer(about_text)

# –ö–æ–º–∞–Ω–¥–∞ /help
@dp.message(Command("help"))
async def cmd_help(message: types.Message):
    help_text = (
        f"üéØ –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º, {PAPA_NAME}:\n\n"
        f"‚Ä¢ –ñ–º–∏ –∫–Ω–æ–ø–∫–∏ –∏ –ø–æ–ª—É—á–∞–π –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è\n"
        f"‚Ä¢ –ö–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–æ–≤—ã–µ —Ç–µ–∫—Å—Ç—ã\n"
        f"‚Ä¢ –ï—Å–ª–∏ –µ—Å—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–∏ ‚Äî –±—É–¥—É—Ç –∏ –æ–Ω–∏\n"
        f"‚Ä¢ –ë–æ—Ç —Å–æ–∑–¥–∞–Ω {CREATOR_NAME} —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è\n\n"
        f"–° 23 –§–µ–≤—Ä–∞–ª—è! üí™"
    )
    await message.answer(help_text)

# –ö–æ–º–∞–Ω–¥–∞ /author
@dp.message(Command("author"))
async def cmd_author(message: types.Message):
    author_text = (
        f"üë®‚Äçüíª –ê–≤—Ç–æ—Ä –±–æ—Ç–∞: {CREATOR_NAME}\n"
        f"üì± –ö–æ–Ω—Ç–∞–∫—Ç: {CREATOR_TAG}\n\n"
        f"–ë–æ—Ç —Å–æ–∑–¥–∞–Ω –≤ –ø–æ–¥–∞—Ä–æ–∫ –ø–∞–ø–µ –Ω–∞ 23 –§–µ–≤—Ä–∞–ª—è ‚ù§Ô∏è"
    )
    await message.answer(author_text)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª—é–±—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
@dp.message()
async def handle_all(message: types.Message):
    """–ù–∞ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –º–µ–Ω—é"""
    text = (
        f"{PAPA_NAME}, –ø—Ä–æ—Å—Ç–æ –≤—ã–±–µ—Ä–∏ —Ç–∏–ø –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è üëá\n"
        f"(–∏–ª–∏ –Ω–∞–ø–∏—à–∏ /start /help /author)"
    )
    await message.answer(text, reply_markup=get_main_keyboard())

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
async def main():
    print("="*50)
    print(f"‚úÖ –ë–æ—Ç –¥–ª—è {PAPA_NAME} –∑–∞–ø—É—â–µ–Ω!")
    print(f"üë§ –¢–µ–≥ –ø–∞–ø—ã: {PAPA_TELEGRAM}")
    print(f"üë®‚Äçüíª –°–æ–∑–¥–∞—Ç–µ–ª—å: {CREATOR_NAME} {CREATOR_TAG}")
    print(f"üìÅ –ö–∞—Ä—Ç–∏–Ω–∫–∏ –¥–æ–ª–∂–Ω—ã –ª–µ–∂–∞—Ç—å –≤ –ø–∞–ø–∫–µ: {IMAGES_FOLDER}")
    print("üöÄ –ñ–¥—É –∫–æ–º–∞–Ω–¥—ã...")
    print("="*50)
    await dp.start_polling(bot)

if __name__ == "__main__":
    asyncio.run(main())
